<!DOCTYPE html>
<html lang="zh-CN">

<head>
        <link rel="canonical" href="https://omanaddress.github.io/html/category/article-3037.htm" />
    <!-- ========== Meta Tags ========== -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <!-- ========== Page Title ========== -->
    <title>MySQL备份迁移之mydumper - Oman Address</title>
        <link rel="icon" href="/assets/addons/xcblog/img/omanaddress/favicon.ico" type="image/x-icon"/>

    <!-- ========== Start Stylesheet ========== -->
    <link href="/assets/addons/xcblog/css/omanaddress/bootstrap.min.css" rel="stylesheet" />
    <link href="/assets/addons/xcblog/css/omanaddress/font-awesome.min.css" rel="stylesheet" />
    <link href="/assets/addons/xcblog/css/omanaddress/themify-icons.css" rel="stylesheet" />
    <link href="/assets/addons/xcblog/css/omanaddress/flaticon-set.css" rel="stylesheet" />
    <link href="/assets/addons/xcblog/css/omanaddress/elegant-icons.css" rel="stylesheet" />
    <link href="/assets/addons/xcblog/css/omanaddress/magnific-popup.css" rel="stylesheet" />
    <link href="/assets/addons/xcblog/css/omanaddress/owl.carousel.min.css" rel="stylesheet" />
    <link href="/assets/addons/xcblog/css/omanaddress/owl.theme.default.min.css" rel="stylesheet" />
    <link href="/assets/addons/xcblog/css/omanaddress/animate.css" rel="stylesheet" />
    <link href="/assets/addons/xcblog/css/omanaddress/bootsnav.css" rel="stylesheet" />
    <link href="/assets/addons/xcblog/css/omanaddress/style.css" rel="stylesheet">
    <link href="/assets/addons/xcblog/css/omanaddress/responsive.css" rel="stylesheet" />
    <!-- ========== End Stylesheet ========== -->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="/assets/addons/xcblog/js/frontend/omanaddress/html5/html5shiv.min.js"></script>
      <script src="/assets/addons/xcblog/js/frontend/omanaddress/html5/respond.min.js"></script>
    <![endif]-->

    <!-- ========== Google Fonts ========== -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@200;300;400;600;700;800&display=swap" rel="stylesheet">
    <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?afd972d72a67e62884759c9ecd23c891";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3332997411212854"
     crossorigin="anonymous"></script>
</head>

<body>
        <!-- Header 
    ============================================= -->
    <header id="home">

        <!-- Start Navigation -->
        <nav class="navbar navbar-default attr-border navbar-sticky dark bootsnav">

            <div class="container-full">
                <!-- Start Header Navigation -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-menu">
                        <i class="fa fa-bars"></i>
                    </button>
                    <a class="navbar-brand" href="/">
                            <img src="/assets/addons/xcblog/img/omanaddress/logo-s.png" class="logo" alt="Logo">
                            Oman Address
                    </a>
                </div>
                <!-- End Header Navigation -->

                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="navbar-menu">
                    <ul class="nav navbar-nav navbar-right" data-in="fadeInDown" data-out="fadeOutUp">
                                                <li>
                            <a href="/">首页</a>
                        </li>
                                                <li>
                            <a href="/html/category/">文章分类</a>
                        </li>
                                                <li>
                            <a href="#">关于</a>
                        </li>
                        <li>
                            <a href="#">联系</a>
                        </li>
                    </ul>
                </div><!-- /.navbar-collapse -->
            </div>

        </nav>
        <!-- End Navigation -->

    </header>
    <!-- End Header -->
    <!-- Start Breadcrumb 
    ============================================= -->
    <div class="breadcrumb-area bg-gray text-center shadow dark text-light bg-cover" style="background-image: url(/assets/addons/xcblog/img/omanaddress/banner/26.jpg);">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 offset-lg-2">
                    <h1 style="word-break: break-all;">MySQL备份迁移之mydumper</h1>
                    <ul class="breadcrumb">
                        <li><a href="/"><i class="fas fa-home"></i> 首页</a></li>
                        <li><a href="/html/category/"> 文章分类</a></li>
                        <li class="active">正文</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!-- End Breadcrumb -->
    <!-- Start Blog
    ============================================= -->
    <div class="blog-area single full-blog full-blog default-padding">
        <div class="container">
            <div class="row">
                <div class="col-md-9">
                    <div class="blog-items">
                        <div class="row">
                            <div class="blog-content col-lg-10 offset-lg-1 col-md-12">
                                <div class="item">
                                    <div class="blog-item-box">
                                        <!-- Start Post Thumb -->
                                        <div class="content">
                                              				  				  				<h1 id="简介">简介</h1> <p>mydumper 是一款开源的 MySQL 逻辑备份工具，主要由 C 语言编写。与 MySQL 自带的 mysqldump 类似，但是 mydumper 更快更高效。<br /> mydumper 的一些优点特性：<br /> s</p> <ul> <li>轻量级C语言开发</li> <li>支持多线程备份数据，备份后按表生成多个备份文件</li> <li>支持事务性和非事务性表一致性备份</li> <li>支持将导出的文件压缩，节约空间</li> <li>支持多线程恢复</li> <li>支持已守护进程模式工作，定时快照和连续二进制日志</li> <li>支持按指定大小将备份文件切割</li> <li>数据与建表语句分离</li> </ul> <h1 id="下载安装">下载安装</h1> <p>安装方式非常多，以下介绍几种常见的方式。</p> <ul> <li>Ubuntu 中自带了 myloader</li> </ul> <blockquote> <p>sudo apt-get install mydumper</p> </blockquote> <ul> <li>使用 deb 包安装，以 Ubuntu 为例</li> </ul> <blockquote> <p>apt-get install libatomic1<br /> wgethttps://github.com/mydumper/mydumper/releases/download/v0.11.5/mydumper_0.11.5-1.$(lsb_release -cs)_amd64.deb 		dpkg -i mydumper_0.11.5-1.$(lsb_release -cs)_amd64.deb</p> </blockquote> <ul> <li>编译安装</li> <li>docker 安装</li> </ul> <p>根据实际平台情况，可选择不同的安装方式，官方也提供了一些常见的安装文档，https://github.com/mydumper/mydumper</p> <h1 id="参数说明">参数说明</h1> <h2 id="mydumper-参数说明">mydumper 参数说明</h2> <pre><code>-B, --database              要备份的数据库，不指定则备份所有库，一般建议备份的时候一个库一条命令 -T, --tables-list           需要备份的表，名字用逗号隔开 -o, --outputdir             备份文件输出的目录 -s, --statement-size        生成的insert语句的字节数，默认1000000 -r, --rows                  将表按行分块时，指定的块行数，指定这个选项会关闭 --chunk-filesize -F, --chunk-filesize        将表按大小分块时，指定的块大小，单位是 MB -c, --compress              压缩输出文件 -e, --build-empty-files     如果表数据是空，还是产生一个空文件（默认无数据则只有表结构文件） -x, --regex                 是同正则表达式匹配 'db.table' -i, --ignore-engines        忽略的存储引擎，用都厚分割 -m, --no-schemas            不备份表结构 -d, --no-data               不备份表数据 -G, --triggers              备份触发器 -E, --events                备份事件 -R, --routines              备份存储过程和函数 -W, --no-views              不备份视图 --where                     只导出符合条件的数据 -k, --no-locks              不使用临时共享只读锁，使用这个选项会造成数据不一致 --less-locking              减少对InnoDB表的锁施加时间（这种模式的机制下文详解） -l, --long-query-guard      设定阻塞备份的长查询超时时间，单位是秒，默认是60秒（超时后默认mydumper将会退出） --kill-long-queries         杀掉长查询 (不退出) -b, --binlogs               导出binlog -D, --daemon                启用守护进程模式，守护进程模式以某个间隔不间断对数据库进行备份 -I, --snapshot-interval     dump快照间隔时间，默认60s，需要在daemon模式下 -L, --logfile               使用的日志文件名(mydumper所产生的日志), 默认使用标准输出 --tz-utc                    跨时区时使用的选项。允许备份timestamp,这样会导致不同时区的备份还原出问题，默认关闭。 --skip-tz-utc               同上，默认值。 --use-savepoints            使用savepoints来减少采集metadata所造成的锁时间，需要 SUPER 权限 --success-on-1146           Not increment error count and Warning instead of Critical in case of table doesn't exist -h, --host                  连接的主机名 -u, --user                  备份所使用的用户 -p, --password              密码 -P, --port                  端口 -S, --socket                使用socket通信时的socket文件 -t, --threads               开启的备份线程数，默认是4 -C, --compress-protocol     压缩与mysql通信的数据 -V, --version               显示版本号 -v, --verbose               输出信息模式, 0 = silent, 1 = errors, 2 = warnings, 3 = info, 默认为 2</code></pre> <h2 id="myloader-参数说明">myloader 参数说明</h2> <pre><code>-d, --directory                   备份文件的文件夹 -q, --queries-per-transaction     每次事务执行的查询数量，默认是1000 -o, --overwrite-tables            如果要恢复的表存在，则先drop掉该表，使用该参数，需要备份时候要备份表结构 -B, --database                    还原到的数据库（目标库） -s, --source-db                   被还原的数据库（源数据库），-s db1 -B db2，表示源库中的db1数据库，导入到db2数据库中。 -e, --enable-binlog               启用还原数据的二进制日志 -h, --host                        主机 -u, --user                        还原的用户 -p, --password                    密码 -P, --port                        端口 -S, --socket                      socket文件 -t, --threads                     还原所使用的线程数，默认是4 -C, --compress-protocol           压缩协议 -V, --version                     显示版本 -v, --verbose                     输出模式, 0 = silent, 1 = errors, 2 = warnings, 3 = info, 默认为2</code></pre> <h1 id="常用案例">常用案例</h1> <h2 id="mydumper-导出示例">mydumper 导出示例</h2> <pre><code class="language-shell"># 个人实际中最常用的备份语句 mydumper -B test -o /home/mydumper/data/test -e -G -R -E -D -u root -p 123456 -h 192.168.0.191 -P 3306 -v 3 --long-query-guard 288000 --skip-tz-utc --no-locks --logfile /home/mydumper/log/test  # 备份全部数据库  mydumper -u root -p 123456 -o /home/mydumper/data/all/  # 备份全部数据库，排除系统库， mydumper -u root -p 123456 --regex '^(?!(mysql|sys|performance_schema|information_schema))' -o /home/mydumper/data/all/  # 备份全部数据库，包含触发器、事件、存储过程及函数 mydumper -u root -p 123456 -G -R -E -o /home/mydumper/data/all/  # 备份指定库 mydumper -u root -p 123456 -G -R -E -B db1 -o /home/mydumper/data/db1  # 备份指定表 mydumper -u root -p 123456 -B db1 -T tb1,tb2 -o /home/mydumper/data/db1  # 只备份表结构 mydumper -u root -p 123456 -B db1 -d -o /home/mydumper/data/db1  # 只备份表数据 mydumper -u root -p 123456 -B db1 -m -o /home/mydumper/data/db1</code></pre> <h2 id="myloader-导入案例">myloader 导入案例</h2> <pre><code class="language-shell"># 个人实际中最常用的导入语句 myloader -h 192.168.0.192 -P 33306 -u root -p 123456 -t 1 -v 3 -d /home/mydumper/data/test/0/ -B test  # 从备份中恢复指定库 myloader -u root -p 123456 -s db1 -o -d /home/mydumper/data/all/0/  # 导入时开启 binlog myloader -u root -p 123456 -e -o -d /home/mydumper/data/db1/0/  # 将源库的 db1 导入到备库的 db1_bak 库中 myloader -u root -p 123456 -B db1_bak -s db1 -o -d /home/mydumper/data/db1/0/  # 导入特定的某几张表 ## 先将 metadata 文件和需要单独导入的表的结构文件和数据文件导入到单独的文件夹中。此处默认库已建好，否则还需要复制建库相关语句。 cp /home/mydumper/data/db1/0/metadata /backup/db1/0/ cp /home/mydumper/data/db1/0/d1.t1-schema.sql /backup/db1/0/ cp /home/mydumper/data/db1/0/d1.t1.sql /backup/db1/0/ ## 从新文件夹中导入数据 myloader -u root -p 123456 -B db1 -d /backup/db1/0/ ## 以上就可以单独导入 db1.t1 表</code></pre> <blockquote> <p>关于 -e 参数，需要稍微注意下。默认情况下，myloader 是不开启 binlog 的，这样可以提高导入速度。如果导入实例有从库，且需要导入的结果同步到从库上，则需要使用 -e 打开 binlog 记录。</p> </blockquote> <p>导出之后的目录如下，以数据库 d1 ，其中有表  t1 为例：</p> <pre><code>-d1  -0    metadata             记录备份时间点的Binlog信息，日志文件名和写入位置    d1-schema-create.sql 建库语句    d1-schema-post.sql   存储过程，函数，事件创建语句    d1.t1-schema.sql     表结构文件    d1.t1.sql            表数据文件，若使用了分块参数，大表的数据文件会出现多个，以数字分开。  -1</code></pre> <blockquote> <p>以上为比较常见的导出后的目录结构，根据实际情况不同，可能还有会含有触发器的文件，含有视图的文件等。</p> </blockquote> <h1 id="常见问题与实践经验">常见问题与实践经验</h1> <ul> <li> <p>Error switching to database whilst restoring table</p> <p>使用 myloader 导入时会出现这类报错，可以尝试的解决方法如下：调大 wait_timeout 参数；调大 max_packet_size 参数；使用一个线程导入，  -t 1。</p> </li> <li> <p>(myloader:35671): CRITICAL **: Error restoring test.email_logger from file test.email_logger.sql: Cannot create a JSON value from a string with CHARACTER SET 'binary'.</p> <p>MySQL 的一个 Bug，可以尝试手动修改对应的备份文件，将</p> <blockquote> <p>/<em>!40101 SET NAMES binary</em>/;</p> </blockquote> <p>修改为：</p> <blockquote> <p>/<em>!40101 SET NAMES utf8mb4</em>/;</p> </blockquote> </li> <li> <p>(myloader:34726): CRITICAL **: Error restoring test.(null) from file test-schema-post.sql: Access denied; you need (at least one of) the SUPER privilege(s) for this operation</p> <p>在导入 AWS RDS 时部分存储过程创建失败，有比较严格的权限限制，需要导入用户有 SUPER 权限，但是 AWS RDS 用户无法授予 SUPER 权限。针对这部分存储过程，可以考虑手动在备份库上创建。</p> </li> <li> <p>大表导出优化</p> <p>使用<code>-r</code>或<code>-F</code>参数，对导出的数据文件进行分片。</p> </li> <li> <p>备份机器配置尽可能高</p> <p>备份前先预估大小，避免机器磁盘不足。尽可能选用配置较高的机器，加快备份速度。</p> </li> <li> <p>非必要数据不备份</p> <p>备份前对于不用备份的数据可以提前进行一次删除，也可在导出数据时添加正则参数等过滤部分表</p> </li> <li> <p>备份尽量不跨网络</p> <p>备份数据时尽量在内网中进行，若需要将数据迁移到外网，可以备份完之后，将备份文件拷贝到外网服务器上，尽量减少导出时网络不稳定的干扰。导入时同理。</p> </li> <li> <p>加快导入速度的一些方法</p> <p>选择合适的线程数，根据实际情况和机器配置，选择合适的线程参数，并非线程数越多越快。<br /> 导入时关闭 MySQL 的 binlog 写入，待导入完成后再开启。<br /> 在内网或较稳定的环境中进行导入。</p> </li> </ul> <h1 id="原理与架构">原理与架构</h1> <h2 id="mydumper-工作流程">mydumper 工作流程</h2> <p><img decoding="async" src="http://img.555519.xyz/uploads3/20220509/0a277804bb3e9ade3a05c3d09a636bd2.jpg" alt="MySQL备份迁移之mydumper"><br /> 主要步骤概括</p> <ul> <li>主线程 FLUSH TABLES WITH READ LOCK，施加全局只读锁，阻止DML语句写入，保证数据的一致性。</li> <li>读取当前时间点的二进制日志文件名和日志写入的位置并记录在metadata文件中。</li> <li>N个dump线程 START TRANSACTION WITH CONSISTENT SNAPSHOT，开启读一致的事务。</li> <li>dump non-InnoDB tables， 首先导出非事务引擎的表。</li> <li>主线程 UNLOCK TABLES 非事务引擎备份完后，释放全局只读锁。</li> <li>dump InnoDB tables，基于事务导出InnoDB表。</li> <li>事务结束。</li> </ul> <h2 id="myloader-工作原理">myloader 工作原理</h2> <p><img decoding="async" src="http://img.555519.xyz/uploads3/20220509/1a24a350e0b2a966842e7949d1149013.jpg" alt="MySQL备份迁移之mydumper"></p> <p></p> 			                                            <div class="col-md-12 mt-5">
                                                                                                <p>上一个：<a href="/html/category/article-3036.htm">java WebSocket客户端断线重连 | 实用代码框架</a></p>
                                                                                                <p>下一个：<a href="/html/category/article-3038.htm">python的eval和json.loads(),json.dumps()</a></p>
                                                                                            </div>
                                                                                    </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">热门文章</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2"><a href="/html/category/article-7048.htm" title="宠物粮食加工厂设备生产厂家有哪些（宠物粮食加工厂设备生产厂家有哪些呢）">宠物粮食加工厂设备生产厂家有哪些（宠物粮食加工厂设备生产厂家有哪些呢）</a></li>
                        <li class="py-2"><a href="/html/category/article-7233.htm" title="生物疫苗和药品（生物医药和疫苗）">生物疫苗和药品（生物医药和疫苗）</a></li>
                        <li class="py-2"><a href="/html/category/article-6588.htm" title="宠物粮食加工厂设备生产厂家有哪些品牌的（宠物粮食加工厂设备生产厂家有哪些品牌的）">宠物粮食加工厂设备生产厂家有哪些品牌的（宠物粮食加工厂设备生产厂家有哪些品牌的）</a></li>
                        <li class="py-2"><a href="/html/category/article-6772.htm" title="动物疫苗公司招聘（动物疫苗销售招聘2020）">动物疫苗公司招聘（动物疫苗销售招聘2020）</a></li>
                        <li class="py-2"><a href="/html/category/article-6864.htm" title="宠物商品品牌定位（宠物商品品牌定位策略）">宠物商品品牌定位（宠物商品品牌定位策略）</a></li>
                        <li class="py-2"><a href="/html/category/article-7141.htm" title="阿博（博阿斯胡尔克）">阿博（博阿斯胡尔克）</a></li>
                        <li class="py-2"><a href="/html/category/article-7601.htm" title="沈阳宠物用品批发在哪进货（沈阳哪有宠物用品批发）">沈阳宠物用品批发在哪进货（沈阳哪有宠物用品批发）</a></li>
                        <li class="py-2"><a href="/html/category/article-6911.htm" title="无货源网店好干吗（无货源网店挣钱吗）">无货源网店好干吗（无货源网店挣钱吗）</a></li>
                        <li class="py-2"><a href="/html/category/article-7692.htm" title="平底锅有哪些比较好的品牌推荐(平底锅有哪些比较好的品牌呢)">平底锅有哪些比较好的品牌推荐(平底锅有哪些比较好的品牌呢)</a></li>
                        <li class="py-2"><a href="/html/category/article-6212.htm" title="鸡肉怎么样红烧好吃">鸡肉怎么样红烧好吃</a></li>
                    </ul>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">归纳</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">30</span> <a href="/html/date/2024-08/" title="2024-08 归档">2024-08</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">62</span> <a href="/html/date/2024-07/" title="2024-07 归档">2024-07</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">60</span> <a href="/html/date/2024-06/" title="2024-06 归档">2024-06</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">62</span> <a href="/html/date/2024-05/" title="2024-05 归档">2024-05</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">60</span> <a href="/html/date/2024-04/" title="2024-04 归档">2024-04</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">62</span> <a href="/html/date/2024-03/" title="2024-03 归档">2024-03</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">44</span> <a href="/html/date/2024-02/" title="2024-02 归档">2024-02</a></h4>
            </li>
                    </ul>
    </div>
</div>


                </div>
            </div>
        </div>
    </div>
    <!-- End Blog -->
        <!-- Star Footer
    ============================================= -->
    <footer class="bg-dark text-light">
        <!-- Footer Bottom -->
        <div class="footer-bottom">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6">
                        <p>
                            Oman Address 版权所有
                            <br />
                            Powered by WordPress
                        </p>
                    </div>
                    <div class="col-lg-6 text-right link">
                        <ul>
                            <li>
                                <a href="#">Terms</a>
                            </li>
                            <li>
                                <a href="#">Privacy</a>
                            </li>
                            <li>
                                <a href="#">Support</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- End Footer Bottom -->
    </footer>
    <!-- End Footer-->

    <!-- jQuery Frameworks
    ============================================= -->
    <script src="/assets/addons/xcblog/js/frontend/omanaddress/jquery-1.12.4.min.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/omanaddress/popper.min.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/omanaddress/bootstrap.min.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/omanaddress/jquery.appear.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/omanaddress/jquery.easing.min.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/omanaddress/jquery.magnific-popup.min.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/omanaddress/modernizr.custom.13711.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/omanaddress/owl.carousel.min.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/omanaddress/wow.min.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/omanaddress/progress-bar.min.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/omanaddress/isotope.pkgd.min.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/omanaddress/imagesloaded.pkgd.min.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/omanaddress/count-to.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/omanaddress/YTPlayer.min.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/omanaddress/jquery.nice-select.min.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/omanaddress/loopcounter.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/omanaddress/bootsnav.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/omanaddress/main.js"></script>
    <script>
    $(function() {
        $('.js_to').click(function() {
            var url = $(this).data('url');
            var code = $(this).data('code');
            url += code;

            window.open(url);
        })
    });
    </script>
</body>

</html>